(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{27:function(e,t,n){},28:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),r=n(17),i=n.n(r),a=(n(27),n(3)),o=(n(28),n(2)),j=n(7),l=n(0);function u(e){var t=e.listing,n=t.id,c=t.address,s=t.description,r=t.bedrooms,i=t.bathrooms,a=t.parking,o=t.ac,j=t.washer_dryer,u=t.lease,d=t.img_url;return Object(l.jsxs)(l.Fragment,{children:["Listings",Object(l.jsxs)("div",{children:[Object(l.jsxs)("h2",{children:[" ",c," "]}),Object(l.jsx)("img",{src:d,alt:d}),Object(l.jsxs)("p",{children:[" ",s," "]}),Object(l.jsxs)("span",{children:[Object(l.jsxs)("p",{children:[" Bedrooms: ",r," "]}),Object(l.jsxs)("p",{children:[" Bathrooms: ",i," "]}),Object(l.jsxs)("p",{children:[" Parking Spaces: ",a," "]}),Object(l.jsxs)("p",{children:[" Air Conditioning: ",o," "]}),Object(l.jsxs)("p",{children:[" Washer/Dryer: ",j," "]}),Object(l.jsxs)("p",{children:[" Lease Length: ",u," "]})]})]},n)]})}function d(e){var t=e.listings,n=Object(c.useState)(),s=Object(a.a)(n,2),r=s[0],i=s[1],o=t.map((function(e){return Object(l.jsx)(u,{listing:e},e.id)}));return Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"search-bar",children:[Object(l.jsx)("h2",{children:"Home is Where the Heart is"}),Object(l.jsx)("input",{type:"text",placeholder:"Enter address, city, or state...",value:r,onChange:function(e){return i(e.target.value)}}),Object(l.jsx)("button",{children:"Search"})]}),Object(l.jsx)("br",{}),o]})}function b(e){var t=e.users,n=e.listings,c=t.map((function(e){e.id}));return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)(o.d,{children:[Object(l.jsx)(o.b,{exact:!0,path:"/",children:Object(l.jsx)(d,{listings:n})}),Object(l.jsx)(o.b,{exact:!0,path:"/profile",children:c})]})})}function h(e){var t=e.signup,n=Object(c.useState)(""),s=Object(a.a)(n,2),r=s[0],i=s[1],o=Object(c.useState)(""),j=Object(a.a)(o,2),u=j[0],d=j[1],b=Object(c.useState)(""),h=Object(a.a)(b,2),O=h[0],p=h[1],x=Object(c.useState)(""),g=Object(a.a)(x,2),f=g[0],m=g[1],v=Object(c.useState)(""),y=Object(a.a)(v,2),S=y[0],w=y[1],F=Object(c.useState)(""),C=Object(a.a)(F,2),k=C[0],N=C[1],P=Object(c.useState)(""),U=Object(a.a)(P,2),L=U[0],T=U[1];return Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({email:r,password:u,password_confirmation:L,firstName:O,lastName:f,birthdate:S,phone:k})},className:"signup",children:[Object(l.jsx)("h2",{htmlFor:"email",children:"Email"}),Object(l.jsx)("input",{type:"text",id:"email",value:r,onChange:function(e){return i(e.target.value)}}),Object(l.jsx)("h2",{htmlFor:"password",children:"Password"}),Object(l.jsx)("input",{type:"password",id:"password",value:u,onChange:function(e){return d(e.target.value)}}),Object(l.jsx)("h2",{htmlFor:"password",children:"Confirm Password"}),Object(l.jsx)("input",{type:"password",id:"password_confirmation",value:L,onChange:function(e){return T(e.target.value)}}),Object(l.jsx)("h2",{children:"First Name"}),Object(l.jsx)("input",{type:"name",id:"first name",value:O,onChange:function(e){return p(e.target.value)}}),Object(l.jsx)("h2",{children:"Last Name"}),Object(l.jsx)("input",{type:"name",id:"last name",value:f,onChange:function(e){return m(e.target.value)}}),Object(l.jsx)("h2",{children:"Birthdate (yyyy/mm/dd)"}),Object(l.jsx)("input",{type:"birthdate",id:"birthdate",value:S,onChange:function(e){return w(e.target.value)}}),Object(l.jsx)("h2",{children:"Phone Number"}),Object(l.jsx)("input",{type:"phone",id:"phone",value:k,onChange:function(e){return N(e.target.value)}}),Object(l.jsx)("button",{type:"submit",children:"Sign Up"})]})}function O(e){var t=e.setUser,n=Object(c.useState)(""),s=Object(a.a)(n,2),r=s[0],i=s[1],j=Object(c.useState)(""),u=Object(a.a)(j,2),d=u[0],b=u[1],h=Object(c.useState)(!1),O=Object(a.a)(h,2),p=O[0],x=O[1];return Object(l.jsxs)("div",{children:[Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),e.target.reset();var n={email:r,password:d};fetch("http://localhost:3000/login",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({user:n})}).then((function(e){return e.json()})).then((function(e){localStorage.token=e.jwt,t(e.user),x(!0)}))},className:"login",children:[Object(l.jsx)("h2",{htmlFor:"username",children:"Email"}),Object(l.jsx)("input",{type:"text",id:"username",autoComplete:"off",value:r,onChange:function(e){return i(e.target.value)}}),Object(l.jsx)("h2",{htmlFor:"password",children:"Password"}),Object(l.jsx)("input",{type:"password",id:"password",autoComplete:"current-password",value:d,onChange:function(e){return b(e.target.value)}}),Object(l.jsx)("button",{variant:"fill",color:"primary",type:"submit",children:"Login"})]}),p?Object(l.jsx)(o.a,{to:"/profile"}):"Invalid username or password."]})}function p(e){var t=e.setUser,n=(e.loggedIn,Object(c.useState)(!1)),s=Object(a.a)(n,2),r=s[0],i=s[1];return Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:"Sign Up or Login"}),r?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(h,{setUser:t,signup:function(e){fetch("http://localhost:3000/signup",{method:"POST",headers:{"Content-Type":"application/json",Accept:"*/*"},body:JSON.stringify(e)}).then((function(e){return e.ok?e.json().then((function(n){t(n),console.log(e)})):e.json().then((function(e){return Promise.reject(e)}))}))}}),Object(l.jsx)("br",{}),Object(l.jsxs)("p",{children:["Already have an account? \xa0",Object(l.jsx)("button",{color:"secondary",onClick:function(){return i(!1)},children:"Log In"})]})]}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(O,{setUser:t}),Object(l.jsx)("br",{}),Object(l.jsxs)("p",{children:["Don't have an account? \xa0",Object(l.jsx)("button",{color:"secondary",onClick:function(){return i(!0)},children:"Sign Up"})]})]})]})}function x(e){var t=e.setUser,n=e.listings;return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)(o.d,{children:[Object(l.jsx)(o.b,{exact:!0,path:"/",children:Object(l.jsx)(d,{listings:n})}),Object(l.jsx)(o.b,{exact:!0,path:"/signup",children:Object(l.jsx)(p,{setUser:t})})]})})}var g,f,m,v,y=n(9),S=n(22),w=n(10),F=w.a.nav(g||(g=Object(y.a)(["\n  background: #F7F3E3;\n  height: 85px;\n  display: flex;\n  justify-content: space-between;\n  padding: 0.2rem calc((100vw - 2000px) / 2);\n  z-index: 12;\n  width: 100%;\n  /* Third Nav */\n  /* justify-content: flex-start; */\n"]))),C=Object(w.a)(j.b)(f||(f=Object(y.a)(["\n  color: #A8763E;\n  display: flex;\n  align-items: center;\n  text-decoration: none;\n  padding: 0 1rem;\n  height: 100%;\n  cursor: pointer;\n  &.active {\n    color: #6F1A07;\n  }\n"]))),k=Object(w.a)(S.a)(m||(m=Object(y.a)(["\n  display: none;\n  color: #F7F3E3;\n  @media screen and (max-width: 768px) {\n    display: block;\n    position: absolute;\n    top: 0;\n    right: 0;\n    transform: translate(-100%, 75%);\n    font-size: 1.8rem;\n    cursor: pointer;\n  }\n"]))),N=w.a.div(v||(v=Object(y.a)(["\n  display: flex;\n  align-items: center;\n  margin-right: -24px;\n  /* Second Nav */\n  /* margin-right: 24px; */\n  /* Third Nav */\n  /* width: 100vw;\n  white-space: nowrap; */\n  @media screen and (max-width: 768px) {\n    display: none;\n  }\n"])));function P(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)(F,{children:[Object(l.jsx)(k,{}),Object(l.jsxs)(N,{children:[Object(l.jsx)(C,{to:"/",children:"Meadow"}),Object(l.jsx)(C,{className:"navlink",to:"/signup",children:"Sign Up or Login"})]})]})})}function U(e){var t=e.logOut;return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)(F,{children:[Object(l.jsx)(k,{}),Object(l.jsxs)(N,{children:[Object(l.jsx)(C,{to:"/",children:"Meadow"}),Object(l.jsx)(C,{className:"navlink",to:"/profile",children:"Profile"}),Object(l.jsx)("button",{onClick:t,children:"Log Out"})]})]})})}var L=function(){var e=Object(c.useState)({}),t=Object(a.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)([]),i=Object(a.a)(r,2),u=i[0],d=i[1],h=Object(c.useState)(!1),O=Object(a.a)(h,2),p=O[0],g=O[1];return Object(c.useEffect)((function(){fetch("http://localhost:3000/listings").then((function(e){return e.json()})).then((function(e){return d(e)}))}),[]),Object(c.useEffect)((function(){var e=localStorage.token;"undefined"!==typeof e&&e.length>1&&"undefined"!==e?fetch("http://localhost:3000/auto_login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({token:e})}).then((function(e){return e.json()})).then((function(e){return s(e)}),g(!0)):console.log("No token found, try logging in!")}),[]),Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(j.a,{children:p?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(U,{logOut:function(){s({}),g(!1),localStorage.token="",o.a}}),Object(l.jsx)(b,{setUser:s,users:n,listings:u})]}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(P,{}),Object(l.jsx)(x,{setUser:s,listings:u})]})})})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,41)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),s(e),r(e),i(e)}))};i.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(L,{})}),document.getElementById("root")),T()}},[[40,1,2]]]);
//# sourceMappingURL=main.3d8ef072.chunk.js.map